function getIPs(f){function d(a){a=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(a)[1];void 0===e[a]&&f(a);e[a]=!0}var e={},b=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;b||(b=iframe.contentWindow,b=b.RTCPeerConnection||b.mozRTCPeerConnection||b.webkitRTCPeerConnection);var c=new b({iceServers:[{urls:"stun:stun.services.mozilla.com"}]},{optional:[{RtpDataChannels:!0}]});c.onicecandidate=function(a){a.candidate&&d(a.candidate.candidate)};
c.createDataChannel("");c.createOffer(function(a){c.setLocalDescription(a,function(){},function(){})},function(){});setTimeout(function(){c.localDescription.sdp.split("\n").forEach(function(a){0===a.indexOf("a=candidate:")&&d(a)})},1E3)};
